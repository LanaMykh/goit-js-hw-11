{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCard = ({webformatURL,largeImageURL,tags,likes, views,comments ,downloads}) => {\n  return `\n      <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${webformatURL}\"\n          alt=\"${tags}\"\n        />\n      <div class=\"image-caption\">\n        <span class=\"caption-item\">\n          <span class=\"caption-label\">Likes</span>\n          <span class=\"caption-value\">${likes}</span>\n        </span>\n        <span class=\"caption-item\">\n          <span class=\"caption-label\">Views</span>\n          <span class=\"caption-value\">${views}</span>\n        </span>\n        <span class=\"caption-item\">\n          <span class=\"caption-label\">Comments</span>\n          <span class=\"caption-value\">${comments}</span>\n        </span>\n        <span class=\"caption-item\">\n          <span class=\"caption-label\">Downloads</span>\n          <span class=\"caption-value\">${downloads}</span>\n        </span>\n      </div>\n      </a>\n    </li>\n  `;\n};","const keyAPI = \"45640148-48faf1be46dd1becbe9886964\";\nconst URL = \"https://pixabay.com/api/\";\n\nexport const fetchImage = searchedValue => {\n  const urlParams = new URLSearchParams({\n    orientation: 'horizontal',\n    image_type: 'photo',\n    safesearch: 'true',\n  });\n\n    return fetch(`${URL}?key=${keyAPI}&q=${searchedValue}&${urlParams}`)\n        .then(respponse => {\n            if (!respponse.ok) {\n                throw new Error(respponse.status);\n            }\n            return respponse.json();\n         }\n        )\n};","import { createGalleryCard } from './js/render-functions.js';\nimport { fetchImage } from './js/pixabay-api.js';\nimport iziToast from \"izitoast\";\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst formSearch = document.querySelector(\".search-form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n  \n    loader.style.display = 'inline-block';\n  \n    const searchedValue = formSearch.elements.user_query.value.replace(/[.,\\/#!$%\\^&\\*;:{}=\\-_`~()]/g, \" \").split(\" \").join(\"+\");\n\n    fetchImage(searchedValue)\n        .then(data => {\n\n            if (data.hits.length === 0) {\n              iziToast.error({\n                message:\n                  'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n              });\n              loader.style.display = 'none';\n              gallery.innerHTML = '';\n              formSearch.reset();\n              return;\n             };\n            const galleryCards = data.hits.map(cardDetails => createGalleryCard(cardDetails)).join('');\n\n          gallery.innerHTML = galleryCards;\n          loader.style.display = 'none';\n          lightbox.refresh();\n        \n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nformSearch.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","keyAPI","URL","fetchImage","searchedValue","urlParams","respponse","formSearch","gallery","loader","lightbox","SimpleLightbox","onSearchFormSubmit","event","data","iziToast","galleryCards","cardDetails","err"],"mappings":"6vBAAO,MAAMA,EAAoB,CAAC,CAAC,aAAAC,EAAa,cAAAC,EAAc,KAAAC,EAAK,MAAAC,EAAO,MAAAC,EAAM,SAAAC,EAAU,UAAAC,CAAS,IAC1F;AAAA;AAAA,sCAE6BL,CAAa;AAAA;AAAA;AAAA,iBAGlCD,CAAY;AAAA,iBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKmBC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,wCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,ICxB3CC,EAAS,qCACTC,EAAM,2BAECC,EAAaC,GAAiB,CACzC,MAAMC,EAAY,IAAI,gBAAgB,CACpC,YAAa,aACb,WAAY,QACZ,WAAY,MAChB,CAAG,EAEC,OAAO,MAAM,GAAGH,CAAG,QAAQD,CAAM,MAAMG,CAAa,IAAIC,CAAS,EAAE,EAC9D,KAAKC,GAAa,CACf,GAAI,CAACA,EAAU,GACX,MAAM,IAAI,MAAMA,EAAU,MAAM,EAEpC,OAAOA,EAAU,MACnB,CACD,CACT,ECZMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAElBJ,EAAO,MAAM,QAAU,eAEvB,MAAML,EAAgBG,EAAW,SAAS,WAAW,MAAM,QAAQ,+BAAgC,GAAG,EAAE,MAAM,GAAG,EAAE,KAAK,GAAG,EAE3HJ,EAAWC,CAAa,EACnB,KAAKU,GAAQ,CAEV,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UAC1B,CAAe,EACDN,EAAO,MAAM,QAAU,OACvBD,EAAQ,UAAY,GACpBD,EAAW,MAAK,EAChB,MAEd,CAAY,MAAMS,EAAeF,EAAK,KAAK,IAAIG,GAAexB,EAAkBwB,CAAW,CAAC,EAAE,KAAK,EAAE,EAE3FT,EAAQ,UAAYQ,EACpBP,EAAO,MAAM,QAAU,OACvBC,EAAS,QAAO,CAE1B,CAAS,EACA,MAAMQ,GAAO,CACV,QAAQ,IAAIA,CAAG,CAC3B,CAAS,CACT,EAEAX,EAAW,iBAAiB,SAAUK,CAAkB"}